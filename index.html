<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
    <title>Bhusky Run - Endless Runner Game</title>
    <style>
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
            background: #111;
            overflow: hidden;
        }
        #c2canvasdiv {
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100vw;
            height: 100vh;
            background: #111;
        }
        #c2canvas {
            box-shadow: 0 0 32px rgba(0,0,0,0.7);
            background: #222;
            display: block;
            max-width: 100vw;
            max-height: 100vh;
            width: auto;
            height: auto;
        }
    </style>
</head>
<body>
    <div id="c2canvasdiv">
        <canvas id="c2canvas"></canvas>
    </div>
    <script src="jquery-2.1.1.min.js"></script>
    <script src="c2runtime.js"></script>
    <script>
        function resizeGame() {
            var GAME_WIDTH = 1280;   // your game's designed width
            var GAME_HEIGHT = 720;   // your game's designed height
            var aspect = GAME_WIDTH / GAME_HEIGHT;

            var winW = window.innerWidth;
            var winH = window.innerHeight;
            var winAspect = winW / winH;

            var newW, newH;
            if (winAspect > aspect) {
                newH = winH;
                newW = newH * aspect;
            } else {
                newW = winW;
                newH = newW / aspect;
            }

            var canvas = document.getElementById('c2canvas');
            canvas.style.width = newW + 'px';
            canvas.style.height = newH + 'px';
            canvas.width = GAME_WIDTH;
            canvas.height = GAME_HEIGHT;

            if (typeof cr_sizeCanvas === 'function') {
                cr_sizeCanvas(GAME_WIDTH, GAME_HEIGHT);
            }
        }
        window.addEventListener('resize', resizeGame);
        window.addEventListener('orientationchange', resizeGame);
        document.addEventListener('DOMContentLoaded', function() {
            resizeGame();
            cr_createRuntime("c2canvas");
        });

        function onVisibilityChanged() {
            if (document.hidden || document.mozHidden || document.webkitHidden || document.msHidden)
                cr_setSuspended(true);
            else
                cr_setSuspended(false);
        };
        document.addEventListener("visibilitychange", onVisibilityChanged, false);
        document.addEventListener("mozvisibilitychange", onVisibilityChanged, false);
        document.addEventListener("webkitvisibilitychange", onVisibilityChanged, false);
        document.addEventListener("msvisibilitychange", onVisibilityChanged, false);
    </script>
</body>
</html>
